{"version":3,"sources":["steve-jobs.js"],"names":["updateDepth","book","newPage","page","turn","pages","depthWidth","Math","min","$","css","width","left","right","loadPage","ajax","url","done","pageHtml","html","replace","addPage","id","element","height","numberOfViews","getViewNumber","parseInt","zoomHandle","e","data","zoomIn","zoomOut","target","hasClass","zoomThis","pic","position","translate","tmpContainer","transitionEnd","cssTransitionEnd","tmpPic","zCenterX","zCenterY","bookPos","offset","picPos","top","completeTransition","unbind","appendTo","margin","fadeOut","fadeIn","window","resize","click","load","realWidth","realHeight","zoomFactor","picPosition","visibility","hide","transform","bind","setTimeout","attr","moveBar","remove","show","yes","Modernizr","csstransforms","zIndex","setPreview","view","previewWidth","previewHeight","previewSrc","preview","_thumbPreview","children","numPages","slider","addClass","backgroundImage","removeClass","backgroundPosition","isChrome","navigator","userAgent","indexOf"],"mappings":"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","sourcesContent":["/* Steve jobs' book */\n\nfunction updateDepth(book, newPage) {\n\n\tvar page = book.turn('page'),\n\t\tpages = book.turn('pages'),\n\t\tdepthWidth = 16*Math.min(1, page*2/pages);\n\n\t\tnewPage = newPage || page;\n\n\tif (newPage>3)\n\t\t$('.sj-book .p2 .depth').css({\n\t\t\twidth: depthWidth,\n\t\t\tleft: 20 - depthWidth\n\t\t});\n\telse\n\t\t$('.sj-book .p2 .depth').css({width: 0});\n\n\t\tdepthWidth = 16*Math.min(1, (pages-page)*2/pages);\n\n\tif (newPage<pages-3)\n\t\t$('.sj-book .p21 .depth').css({\n\t\t\twidth: depthWidth,\n\t\t\tright: 20 - depthWidth\n\t\t});\n\telse\n\t\t$('.sj-book .p21 .depth').css({width: 0});\n\n}\n\nfunction loadPage(page) {\n\n\t$.ajax({url: 'pages/page' + page + '.html'}).\n\t\tdone(function(pageHtml) {\n\t\t\t$('.sj-book .p' + page).html(pageHtml.replace('samples/steve-jobs/', ''));\n\t\t});\n\n}\n\nfunction addPage(page, book) {\n\n\tvar id, pages = book.turn('pages');\n\n\tif (!book.turn('hasPage', page)) {\n\n\t\tvar element = $('<div />',\n\t\t\t{'class': 'own-size',\n\t\t\t\tcss: {width: 460, height: 582}\n\t\t\t}).\n\t\t\thtml('<div class=\"loader\"></div>');\n\n\t\tif (book.turn('addPage', element, page)) {\n\t\t\tloadPage(page);\n\t\t}\n\n\t}\n}\n\nfunction numberOfViews(book) {\n\n\treturn book.turn('pages') / 2 + 1;\n\n}\n\nfunction getViewNumber(book, page) {\n\n\treturn parseInt((page || book.turn('page'))/2 + 1, 10);\n\n}\n\nfunction zoomHandle(e) {\n\n\tif ($('.sj-book').data().zoomIn)\n\t\tzoomOut();\n\telse if (e.target && $(e.target).hasClass('zoom-this')) {\n\t\tzoomThis($(e.target));\n\t}\n\n}\n\nfunction zoomThis(pic) {\n\n\tvar\tposition, translate,\n\t\ttmpContainer = $('<div />', {'class': 'zoom-pic'}),\n\t\ttransitionEnd = $.cssTransitionEnd(),\n\t\ttmpPic = $('<img />'),\n\t\tzCenterX = $('#book-zoom').width()/2,\n\t\tzCenterY = $('#book-zoom').height()/2,\n\t\tbookPos = $('#book-zoom').offset(),\n\t\tpicPos = {\n\t\t\tleft: pic.offset().left - bookPos.left,\n\t\t\ttop: pic.offset().top - bookPos.top\n\t\t},\n\t\tcompleteTransition = function() {\n\t\t\t$('#book-zoom').unbind(transitionEnd);\n\n\t\t\tif ($('.sj-book').data().zoomIn) {\n\t\t\t\ttmpContainer.appendTo($('body'));\n\n\t\t\t\t$('body').css({'overflow': 'hidden'});\n\t\t\t\t\n\t\t\t\ttmpPic.css({\n\t\t\t\t\tmargin: position.top + 'px ' + position.left+'px'\n\t\t\t\t}).\n\t\t\t\tappendTo(tmpContainer).\n\t\t\t\tfadeOut(0).\n\t\t\t\tfadeIn(500);\n\t\t\t}\n\t\t};\n\n\t\t$('.sj-book').data().zoomIn = true;\n\n\t\t$('.sj-book').turn('disable', true);\n\n\t\t$(window).resize(zoomOut);\n\t\t\n\t\ttmpContainer.click(zoomOut);\n\n\t\ttmpPic.load(function() {\n\t\t\tvar realWidth = $(this)[0].width,\n\t\t\t\trealHeight = $(this)[0].height,\n\t\t\t\tzoomFactor = realWidth/pic.width(),\n\t\t\t\tpicPosition = {\n\t\t\t\t\ttop:  (picPos.top - zCenterY)*zoomFactor + zCenterY + bookPos.top,\n\t\t\t\t\tleft: (picPos.left - zCenterX)*zoomFactor + zCenterX + bookPos.left\n\t\t\t\t};\n\n\n\t\t\tposition = {\n\t\t\t\ttop: ($(window).height()-realHeight)/2,\n\t\t\t\tleft: ($(window).width()-realWidth)/2\n\t\t\t};\n\n\t\t\ttranslate = {\n\t\t\t\ttop: position.top-picPosition.top,\n\t\t\t\tleft: position.left-picPosition.left\n\t\t\t};\n\n\t\t\t$('.samples .bar').css({visibility: 'hidden'});\n\t\t\t$('#slider-bar').hide();\n\t\t\t\n\t\t\n\t\t\t$('#book-zoom').transform(\n\t\t\t\t'translate('+translate.left+'px, '+translate.top+'px)' +\n\t\t\t\t'scale('+zoomFactor+', '+zoomFactor+')');\n\n\t\t\tif (transitionEnd)\n\t\t\t\t$('#book-zoom').bind(transitionEnd, completeTransition);\n\t\t\telse\n\t\t\t\tsetTimeout(completeTransition, 1000);\n\n\t\t});\n\n\t\ttmpPic.attr('src', pic.attr('src'));\n\n}\n\nfunction zoomOut() {\n\n\tvar transitionEnd = $.cssTransitionEnd(),\n\t\tcompleteTransition = function(e) {\n\t\t\t$('#book-zoom').unbind(transitionEnd);\n\t\t\t$('.sj-book').turn('disable', false);\n\t\t\t$('body').css({'overflow': 'auto'});\n\t\t\tmoveBar(false);\n\t\t};\n\n\t$('.sj-book').data().zoomIn = false;\n\n\t$(window).unbind('resize', zoomOut);\n\n\tmoveBar(true);\n\n\t$('.zoom-pic').remove();\n\t$('#book-zoom').transform('scale(1, 1)');\n\t$('.samples .bar').css({visibility: 'visible'});\n\t$('#slider-bar').show();\n\n\tif (transitionEnd)\n\t\t$('#book-zoom').bind(transitionEnd, completeTransition);\n\telse\n\t\tsetTimeout(completeTransition, 1000);\n}\n\n\nfunction moveBar(yes) {\n\tif (Modernizr && Modernizr.csstransforms) {\n\t\t$('#slider .ui-slider-handle').css({zIndex: yes ? -1 : 10000});\n\t}\n}\n\nfunction setPreview(view) {\n\n\tvar previewWidth = 115,\n\t\tpreviewHeight = 73,\n\t\tpreviewSrc = 'pages/preview.jpg',\n\t\tpreview = $(_thumbPreview.children(':first')),\n\t\tnumPages = (view==1 || view==$('#slider').slider('option', 'max')) ? 1 : 2,\n\t\twidth = (numPages==1) ? previewWidth/2 : previewWidth;\n\n\t_thumbPreview.\n\t\taddClass('no-transition').\n\t\tcss({width: width + 15,\n\t\t\theight: previewHeight + 15,\n\t\t\ttop: -previewHeight - 30,\n\t\t\tleft: ($($('#slider').children(':first')).width() - width - 15)/2\n\t\t});\n\n\tpreview.css({\n\t\twidth: width,\n\t\theight: previewHeight\n\t});\n\n\tif (preview.css('background-image')==='' ||\n\t\tpreview.css('background-image')=='none') {\n\n\t\tpreview.css({backgroundImage: 'url(' + previewSrc + ')'});\n\n\t\tsetTimeout(function(){\n\t\t\t_thumbPreview.removeClass('no-transition');\n\t\t}, 0);\n\n\t}\n\n\tpreview.css({backgroundPosition:\n\t\t'0px -'+((view-1)*previewHeight)+'px'\n\t});\n}\n\nfunction isChrome() {\n\n\t// Chrome's unsolved bug\n\t// http://code.google.com/p/chromium/issues/detail?id=128488\n\n\treturn navigator.userAgent.indexOf('Chrome')!=-1;\n\n}"],"file":"steve-jobs.dev.js"}