"use strict";function updateDepth(o,t){var e=o.turn("page"),s=o.turn("pages"),i=16*Math.min(1,2*e/s);3<(t=t||e)?$(".sj-book .p2 .depth").css({width:i,left:20-i}):$(".sj-book .p2 .depth").css({width:0}),i=16*Math.min(1,2*(s-e)/s),t<s-3?$(".sj-book .p21 .depth").css({width:i,right:20-i}):$(".sj-book .p21 .depth").css({width:0})}function loadPage(t){$.ajax({url:"pages/page"+t+".html"}).done(function(o){$(".sj-book .p"+t).html(o.replace("samples/steve-jobs/",""))})}function addPage(o,t){t.turn("pages");if(!t.turn("hasPage",o)){var e=$("<div />",{class:"own-size",css:{width:460,height:582}}).html('<div class="loader"></div>');t.turn("addPage",e,o)&&loadPage(o)}}function numberOfViews(o){return o.turn("pages")/2+1}function getViewNumber(o,t){return parseInt((t||o.turn("page"))/2+1,10)}function zoomHandle(o){$(".sj-book").data().zoomIn?zoomOut():o.target&&$(o.target).hasClass("zoom-this")&&zoomThis($(o.target))}function zoomThis(n){function a(){$("#book-zoom").unbind(m),$(".sj-book").data().zoomIn&&(o.appendTo($("body")),$("body").css({overflow:"hidden"}),t.css({margin:r.top+"px "+r.left+"px"}).appendTo(o).fadeOut(0).fadeIn(500))}var r,d,o=$("<div />",{class:"zoom-pic"}),m=$.cssTransitionEnd(),t=$("<img />"),u=$("#book-zoom").width()/2,c=$("#book-zoom").height()/2,h=$("#book-zoom").offset(),l=n.offset().left-h.left,p=n.offset().top-h.top;$(".sj-book").data().zoomIn=!0,$(".sj-book").turn("disable",!0),$(window).resize(zoomOut),o.click(zoomOut),t.load(function(){var o=$(this)[0].width,t=$(this)[0].height,e=o/n.width(),s=(p-c)*e+c+h.top,i=(l-u)*e+u+h.left;r={top:($(window).height()-t)/2,left:($(window).width()-o)/2},d={top:r.top-s,left:r.left-i},$(".samples .bar").css({visibility:"hidden"}),$("#slider-bar").hide(),$("#book-zoom").transform("translate("+d.left+"px, "+d.top+"px)scale("+e+", "+e+")"),m?$("#book-zoom").bind(m,a):setTimeout(a,1e3)}),t.attr("src",n.attr("src"))}function zoomOut(){function o(){$("#book-zoom").unbind(t),$(".sj-book").turn("disable",!1),$("body").css({overflow:"auto"}),moveBar(!1)}var t=$.cssTransitionEnd();$(".sj-book").data().zoomIn=!1,$(window).unbind("resize",zoomOut),moveBar(!0),$(".zoom-pic").remove(),$("#book-zoom").transform("scale(1, 1)"),$(".samples .bar").css({visibility:"visible"}),$("#slider-bar").show(),t?$("#book-zoom").bind(t,o):setTimeout(o,1e3)}function moveBar(o){Modernizr&&Modernizr.csstransforms&&$("#slider .ui-slider-handle").css({zIndex:o?-1:1e4})}function setPreview(o){var t=$(_thumbPreview.children(":first")),e=1==(1==o||o==$("#slider").slider("option","max")?1:2)?57.5:115;_thumbPreview.addClass("no-transition").css({width:15+e,height:88,top:-103,left:($($("#slider").children(":first")).width()-e-15)/2}),t.css({width:e,height:73}),""!==t.css("background-image")&&"none"!=t.css("background-image")||(t.css({backgroundImage:"url(pages/preview.jpg)"}),setTimeout(function(){_thumbPreview.removeClass("no-transition")},0)),t.css({backgroundPosition:"0px -"+73*(o-1)+"px"})}function isChrome(){return-1!=navigator.userAgent.indexOf("Chrome")}
//# sourceMappingURL=steve-jobs.min.js.map
